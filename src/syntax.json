{
	"$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
	"name": "Script",
	"patterns": [{
		"include": "#*"
	}],
	"repository": {
		"*": {
			"patterns": [{
				"include": "#comments"
			}, {
				"include": "#strings"
			}, {
				"include": "#numeric"
			}, {
				"name": "keyword.operator.new.sc",
				"match": "\\bb[A-F0-9]{1,2}\\b"
			}, {
				"include": "#langs"
			}, {
				"begin": "(\\$)\\[",
				"end": "\\]",
				"beginCaptures": {
					"1": {
						"name": "keyword.control.sc"
					}
				},
				"patterns": [{
					"include": "#comments"
				}, {
					"include": "#strings"
				}, {
					"include": "#numeric"
				}, {
					"match": "\\b(prim|opt|if|dep)\\b",
					"name": "keyword.control.sc"
				}, {
					"match": "\\b[A-Za-z_0-9]+\\b",
					"name": "keyword.sc"
				}]
			}, {
				"include": "#words"
			}]
		},
		"asm": {
			"patterns": [{
				"include": "#comments"
			}, {
				"include": "#strings"
			}, {
				"include": "#numeric"
			}, {
				"match": "\\b(mov|int|add)\\b",
				"name": "keyword.control.sc"
			}, {
				"match": "\\b([abcd][hl]|e?[abcd]x)\\b",
				"name": "keyword.sc"
			}, {
				"name": "keyword.operator.new.sc",
				"match": "\\b[ODITSZAPC]F\\b"
			}, {
				"name": "constant.numeric.sc",
				"match": "\\bb[A-F0-9]{1,2}\\b"
			}, {
				"name": "variable",
				"match": "[A-Za-z_][A-Za-z0-9_]*"
			}]
		},
		"comments": {
			"patterns": [{
				"begin": "#\\*",
				"end": "\\*#",
				"name": "comment.block.sc",
				"patterns": [{
					"include": "#comments"
				}]
			}, {
				"name": "comment.line.sc",
				"match": "#.*\n"
			}]
		},
		"strings": {
			"patterns": [{
				"name": "string.quoted.single",
				"begin": "'",
				"end": "\n|(?<!\\\\)'",
				"patterns": [{
					"name": "constant.character.escape.sc",
					"match": "\\\\."
				}]
			}, {
				"name": "string.quoted.double",
				"begin": "\"",
				"end": "\n|(?<!\\\\)\"",
				"patterns": [{
					"name": "constant.character.escape.sc",
					"match": "\\\\."
				}]
			}, {
				"begin": "`",
				"end": "\n|(?<!\\\\)`",
				"beginCaptures": {
					"0": {
						"name": "string.sc"
					}
				},
				"endCaptures": {
					"0": {
						"name": "string.sc"
					}
				},
				"patterns": [{
					"begin": "(\\$\\()",
					"end": "(\\))",
					"patterns": [{
						"include": "#*"
					}],
					"beginCaptures": {
						"1": {
							"name": "keyword"
						}
					},
					"endCaptures": {
						"1": {
							"name": "keyword"
						}
					}
				}, {
					"name": "constant.character.escape.sc",
					"match": "\\\\."
				}, {
					"match": ".",
					"name": "string.sc"
				}]
			}, {
				"begin": "´",
				"end": "\n|(?<!\\\\)´",
				"beginCaptures": {
					"0": {
						"name": "string.regexp.sc"
					}
				},
				"endCaptures": {
					"0": {
						"name": "string.regexp.sc"
					}
				},
				"patterns": [{
					"name": "constant.regexp.escape.sc",
					"match": "\\\\\\w"
				}, {
					"name": "constant.regexp.escape.sc",
					"match": "(?<!\\\\)[\\.]"
				}, {
					"begin": "(\\$\\()",
					"end": "(\\))",
					"patterns": [{
						"include": "#*"
					}],
					"beginCaptures": {
						"1": {
							"name": "keyword"
						}
					},
					"endCaptures": {
						"1": {
							"name": "keyword"
						}
					}
				}, {
					"match": "(\\{)(?:(\\d*)|([A-Za-z_][a-zA-Z0-9_]*))?(?:\\-(\\d*)|([A-Za-z_][a-zA-Z0-9_]*))?(\\})",
					"captures": {
						"1": {
							"name": "keyword.sc"
						},
						"2": {
							"name": "constant.numeric.sc"
						},
						"3": {
							"name": "variable.sc"
						},
						"4": {
							"name": "constant.numeric.sc"
						},
						"5": {
							"name": "variable.sc"
						},
						"6": {
							"name": "keyword.sc"
						}
					}
				}, {
					"begin": "\\$\\{",
					"end": "\\}",
					"patterns": [{
						"match": "\\d+",
						"name": "constant.numeric.sc"
					}, {
						"match": "\\b(i|s)\\s*:\\s*([A-Za-z_][a-zA-Z0-9_]*)",
						"captures": {
							"1": {
								"name": "keyword.control.sc"
							},
							"2": {
								"name": "variable.sc"
							}
						}
					}],
					"beginCaptures": {
						"0": {
							"name": "keyword.sc"
						}
					},
					"endCaptures": {
						"0": {
							"name": "keyword.sc"
						}
					}
				}, {
					"name": "constant.character.escape.sc",
					"match": "(?<!\\\\)[\\(\\)\\[\\]\\{\\}\\|]"
				}, {
					"match": "(\\\\).",
					"captures": {
						"0": {
							"name": "constant.regexp.escape.sc"
						}
					}
				}, {
					"match": ".",
					"name": "string.regexp.sc"
				}]
			}]
		},
		"langs": {
			"patterns": [{
				"begin": "<\\/",
				"end": "\\/>",
				"patterns": [{
					"begin": "\\{\\{",
					"end": "\\}\\}",
					"patterns": [{
						"include": "#*"
					}],
					"beginCaptures": {
						"0": {
							"name": "keyword.sc"
						}
					},
					"endCaptures": {
						"0": {
							"name": "keyword.sc"
						}
					}
				}],
				"beginCaptures": {
					"0": {
						"name": "keyword.sc"
					}
				},
				"endCaptures": {
					"0": {
						"name": "keyword.sc"
					}
				}
			}, {
				"begin": "(?<!\\w)js\\s*\\(",
				"end": "\\)",
				"patterns": [{
					"include": "source.js"
				}],
				"beginCaptures": {
					"0": {
						"name": "keyword.control.sc"
					}
				},
				"endCaptures": {
					"0": {
						"name": "keyword.control.sc"
					}
				}
			}, {
				"begin": "\\b(asm\\s*\\()",
				"end": "\\)",
				"patterns": [{
					"include": "#asm"
				}],
				"beginCaptures": {
					"1": {
						"name": "keyword.control.sc"
					}
				},
				"endCaptures": {
					"0": {
						"name": "keyword.control.sc"
					}
				}
			}]
		},
		"numeric": {
			"name": "constant.numeric.sc",
			"match": "(\\-)?(\\.\\d+|\\d+(\\.\\d+)?)"
		},
		"words": {
			"patterns": [{
				"name": "keyword.sc",
				"match": "\\b(fn|type|exit|ret|next|(el)?if|el|is|case|for)(:[A-Za-z_][A-Za-z_0-9]*)*\\b",
				"captures": {
					"1": {
						"name": "keyword.control.sc"
					}
				}
			}, {
				"name": "keyword.sc",
				"match": "\\b(use|self|super|in|true|false|be)(:[A-Za-z_][A-Za-z_0-9]*)*\\b"
			}, {
				"name": "variable.other.constant.sc",
				"match": "\\b(document|window|process)\\b"
			}, {
				"name": "support.type.sc",
				"match": "\\b(any|u?int\\d*|num|str|regex|char|bool|byte|func|code)\\b"
			}, {
				"match": "([A-Za-z_][a-zA-Z0-9_]*)(\\-(for|exit|ret)\\b|\\-\\-)",
				"captures": {
					"1": {
						"name": "keyword.sc"
					},
					"3": {
						"name": "keyword.control.sc"
					}
				}
			}, {
				"name": "support.function.sc",
				"match": "(_)?[a-zA-Z_]+:(?![$@\\w])",
				"captures": {
					"1": {
						"name": "keyword.sc"
					}
				}
			}, {
				"name": "support.type.sc",
				"match": "(_)?[A-Z][a-zA-Z0-9_]*",
				"captures": {
					"1": {
						"name": "keyword.sc"
					}
				}
			}, {
				"begin": "(_)?([A-Za-z][A-Za-z_0-9]*)\\s*\\(",
				"end": "\\)",
				"patterns": [{
					"include": "#*"
				}],
				"beginCaptures": {
					"0": {
						"name": "support.function.sc"
					},
					"1": {
						"name": "keyword.sc"
					}
				}
			}, {
				"name": "variable.sc",
				"match": "(_)?[a-z][a-zA-Z0-9_]*",
				"captures": {
					"1": {
						"name": "keyword.sc"
					}
				}
			}]
		}
	},
	"scopeName": "source.sc"
}